<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ux_client_script">
    <sys_ux_client_script action="INSERT_OR_UPDATE">
        <includes>881d20a10fe21010ad4437a98b767e2a,e6a9d997b7b61010ad44ea56ee11a911,17c0853d0fa61010ad4437a98b767e13</includes>
        <macroponent display_value="Visual Board Demo Page">5a0e553e474e4150d384ee82e36d4334</macroponent>
        <name>Visual Board Load Failure Script</name>
        <required_translations/>
        <script><![CDATA[function script({api, event, imports}) { 
    const {
        'sn_vtb.constants': constantsInclude,
        'sn_vtb.notificationHandler': notificationHandlerInclude,
        'sn_vtb.utils': utilsInclude
    } = imports;
    const {
        showAlert,
        dismissLoader
    } = notificationHandlerInclude();

    const {
        STATUS: {
            CRITICAL
        },
        ICONS: {
            CIRCLE_CLOSE_OUTLINE
        },
        DONT_HAVE_PERMISSIONS_MESSAGE,
        INSUFFICIENT_PERMISSIONS
    } = constantsInclude();

    const {
        getErrorMessage
    } = utilsInclude()

    const {
        payload: {
            errors
        }
    } = event;

    dismissLoader(api);

    let errorMessage = getErrorMessage(errors);
    errorMessage = errorMessage.includes(INSUFFICIENT_PERMISSIONS) ? DONT_HAVE_PERMISSIONS_MESSAGE : errorMessage;
    showAlert(api, {
        status: CRITICAL,
        icon: CIRCLE_CLOSE_OUTLINE,
        content: {
            type: "html",
            value: errorMessage
        }
    });

    console.log("Board load failed");
 }]]></script>
        <script_api_version>2.0.0</script_api_version>
        <sys_class_name>sys_ux_client_script</sys_class_name>
        <sys_created_by>james.belote</sys_created_by>
        <sys_created_on>2022-03-09 01:42:48</sys_created_on>
        <sys_id>a20e553e474e4150d384ee82e36d439d</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Visual Board Load Failure Script</sys_name>
        <sys_package display_value="Electronic Medication Administration Record" source="x_snc_electronic_0">9e178adc472dc190d384ee82e36d4388</sys_package>
        <sys_policy/>
        <sys_scope display_value="Electronic Medication Administration Record">9e178adc472dc190d384ee82e36d4388</sys_scope>
        <sys_update_name>sys_ux_client_script_a20e553e474e4150d384ee82e36d439d</sys_update_name>
        <sys_updated_by>james.belote</sys_updated_by>
        <sys_updated_on>2022-03-09 01:42:48</sys_updated_on>
    </sys_ux_client_script>
</record_update>
